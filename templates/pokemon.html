<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
    
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/d3/3.5.17/d3.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/crossfilter/1.3.12/crossfilter.min.js"></script> 
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/queue-async/1.0.7/queue.min.js"></script>
    
    <!--<script type="text/javascript" src="/static/js/pokegraph.js"></script>-->
    <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/dc/2.1.8/dc.min.css"/>
    
    
</head>
<body>
    
    {{apple.Name}}
    {{apple["#"]}}
    <div id="test" style="height: 500px"></div>
    <div>
        HP: {{apple.HP}}
        Attack: {{apple.Attack}}
        Defense: {{apple.Defense}}
        SpAtk: {{apple.SpAtk}}
        SpDef: {{apple.SpDef}}
        Speed: {{apple.Speed}}
        Total: {{apple.Total}}
    </div>
    "#","Name","Type1","Type2","Total","HP","Attack","Defense","SpAtk","SpDef","Speed","Generation","Legendary"
    
    <script>

    
    var dataArray = [{{apple.HP}}, {{apple.Attack}}, {{apple.Defense}}, {{apple.SpAtk}}, {{apple.SpDef}}, {{apple.Speed}}];
    var highestStat = Math.max(dataArray);
    var svg = d3.select("#test").append("svg")
        .attr("height","100%")
        .attr("width","100%");

    svg.selectAll("rect")
        .data(dataArray)
        .enter().append("rect")
              .attr("class", "bar")
              .attr("height", function(d, i) { return (d * 2)})
              .attr("width", "40")
              .attr("x", function(d, i) {return (i * 60) + 25})
              .attr("y", function(d, i) {return 500 - ((d * 2)})/highesStat);

    </script>
    
</body>
</html>